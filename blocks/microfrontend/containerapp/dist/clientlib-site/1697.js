"use strict";(self.webpackChunkskyplus_container_app=self.webpackChunkskyplus_container_app||[]).push([[1697,1540],{24635:function(e,t,r){r.r(t);var n=r(28416),a=r.n(n),o=r(45697),i=r.n(o),l=function(e){var t=e.label,r=e.children,n=e.disabled,o=e.className,i=e.variation,l=void 0===i?"":i,s=e.onClickHandler,c=e.icon,u=void 0!==c&&c,d="custom-button "+(void 0!==o?o:""),f=n||!1;return"LOADING"===l?d+=" custom-button--loading":"SECONDARY"===l?d+=" custom-button--secondary":"TERTIARY"===l?d+=" custom-button--tertiary":"DISABLED"===l&&(d+=" custom-button--disabled",f=!0),a().createElement("button",{disabled:f,className:d,onClick:s},u?a().createElement("i",{className:u}):null,t?a().createElement("span",{className:"custom-button__label"},t," "):null,a().createElement("div",{className:"custom-button__loading__circle"}),r)};l.propTypes={label:i().string,children:i().element,disabled:i().bool,className:i().string,variation:i().string,onClickHandler:i().func},t.default=l},14026:function(e,t,r){r.r(t);r(59749),r(86544),r(60228),r(84254),r(752),r(21694),r(76265),r(70560),r(89730),r(12826),r(34284),r(77049),r(64043),r(7409),r(21057);var n=r(28416),a=r.n(n),o=r(45697),i=r.n(o),l=r(24635),s=r(20475);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e){var t=e.departureDestination,r=e.arrivalDestination,o=e.journeyDate,i=e.journeyType,u=e.paxCount,d=e.ctaLabel,f=e.className,y=e.modifySearchClickHandler,p="skyplus-modify-search "+(void 0!==f?f:""),m=c((0,n.useState)(!1),2),v=m[0],_=m[1];(0,n.useEffect)((function(){return window.addEventListener(s.CONSTANTS.EVENT_RENDER_HEADER_RIGHT_SECTION,g),function(){window.removeEventListener(s.CONSTANTS.EVENT_RENDER_HEADER_RIGHT_SECTION,g)}}),[]);var g=function(e){var t;(console.log("render header options:",e),null!=e&&e.detail)&&_(null==e||null===(t=e.detail)||void 0===t?void 0:t.isModifySearchRequired)};return t&&r&&a().createElement("div",{className:p},a().createElement("div",{className:"skyplus-modify-search__left hideFlyout"},a().createElement("div",{className:"skyplus-modify-search__left__destinations"},a().createElement("span",{className:"skyplus-modify-search__left__destinations__departure "+(i===s.journeyTypeCode.ONE_WAY?"departure-one-way":"departure-two-way")},t),a().createElement("span",{className:"skyplus-modify-search__left__destinations__arrival"},r)),a().createElement("div",{className:"skyplus-modify-search__left__pax"},a().createElement("span",{className:"skyplus-modify-search__left__pax__date"},o),a().createElement("span",{className:"skyplus-modify-search__left__pax__passengers"},u))),a().createElement("div",{className:"skyplus-modify-search__right hideFlyout"},window.pageType!==s.PE_PAGETYPE||v?a().createElement(l.default,{label:d,className:"skyplus-modify-search__right__modify-search-btn",variation:"SECONDARY",onClickHandler:y}):null))};d.propTypes={addPassengerLabel:i().string.isRequired,departureDestination:i().string.isRequired,arrivalDestination:i().string.isRequired,journeyDate:i().string.isRequired,paxCount:i().string.isRequired,ctaLabel:i().string,className:i().string,modifySearchClickHandler:i().func,journeyType:i().string},t.default=d},91697:function(e,t,r){r.r(t),r.d(t,{default:function(){return w}});r(69358),r(48324),r(69373),r(59903),r(59749),r(86544),r(60228),r(21057),r(79288);var n=r(28416),a=r.n(n),o=r(20745),i=(r(64043),r(57267),r(84254),r(752),r(21694),r(76265),r(70560),r(89730),r(12826),r(34284),r(77049),r(7409),r(45697)),l=r.n(i),s=r(36730),c=r(41540),u=r(77932),d=r.n(u),f=r(20475);var y={getModifySearchprops(e,t){const{selectedDestinationCityInfo:r={},selectedSourceCityInfo:n={},selectedTravelDatesInfo:a={},selectedPaxInformation:o={},selectedJourneyType:i={},selectedMultiCityInfo:l=[]}=e||{},{passengersLabel:s="",modifySearchLabel:c=""}=t,u=window.innerWidth<390?"Pax":s,y=n?.city||n?.cityCode||"",p=r?.city||r?.cityCode||"",m=a?.startDate||"",v=a?.endDate||"",_=(o?.types||[]).reduce(((e,t)=>{let r=e;return t.type===f.paxCodes.infant.code||t.discountCode&&t.discountCode!==f.paxCodes.seniorCitizen.discountCode||(r=t.count+e),r}),0);let g="";if(m){g=d()(m).format("DD/MMMM").replace("/"," ")}const E=i?i?.value:"";if(E===f.journeyTypeCode?.MULTI_CITY){const e=l&&l.length?l[0]?.date:"";g=d()(e).format("DD/MMMM").replace("/"," ")}if(v&&E!==f.journeyTypeCode?.MULTI_CITY){const e=d()(v).format("DD/MMMM").replace("/"," ");g=g.concat(` - ${e}`)}return{departureDestination:(y||"").replace("Airport",""),arrivalDestination:(p||"").replace("Airport",""),journeyDate:g,journeyType:E,paxCount:`${_} ${u}`,ctaLabel:c,modifySearchClickHandler:()=>{document.dispatchEvent(new CustomEvent("openModifyBookingWidget",{bubbles:!0,detail:{open:!0}}))}}}},p=r(14026);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}window.screen.width,window.screen.width>=768&&window.screen.width;var _=window.screen.width>=1024,g=function(e){var t=e.mfData,r=JSON.parse(t.replace(/&quot;/gi,'"')),o=(0,s.getLocalStorage)(c.localStorageKeys.BOOKING_CONTEXT_VALUES),i=m((0,n.useState)(o),2),l=i[0],u=i[1],d=y.getModifySearchprops(l,r),v=(0,n.useRef)();return(0,n.useEffect)((function(){if(window.pageType===f.SRP_PAGETYPE||window.pageType===f.PE_PAGETYPE){var e=function(){var e=(0,s.getLocalStorage)(c.localStorageKeys.BOOKING_CONTEXT_VALUES);u(e)};return window.addEventListener("ModifyBookingEvent",e),function(){window.removeEventListener("ModifyBookingEvent",e)}}}),[]),(0,n.useLayoutEffect)((function(){if(window.pageType===f.SRP_PAGETYPE||window.pageType===f.PE_PAGETYPE){var e=0,t=v.current,r=t.querySelector(".skyplus-modify-search__left"),n=t.querySelector(".skyplus-modify-search__right"),a=document.querySelector(".skyplus6e-header__logo");return window.addEventListener("scroll",(function(){var t=window.pageYOffset||document.documentElement.scrollTop;t>e?window.scrollY>60&&(r.classList.remove("hideFlyout"),r.classList.add("showFlyout"),_?(n.classList.remove("hideFlyout"),n.classList.add("showFlyout")):(a.classList.remove("showFlyout"),a.classList.add("hideFlyout"))):t<e&&window.scrollY<60&&(r.classList.add("hideFlyout"),r.classList.remove("showFlyout"),_?(n.classList.add("hideFlyout"),n.classList.remove("showFlyout")):(a.classList.add("showFlyout"),a.classList.remove("hideFlyout"))),e=t<=0?0:t}),!1),_||n.classList.remove("hideFlyout"),function(){window.removeEventListener("scroll")}}}),[]),window.pageType===f.SRP_PAGETYPE||window.pageType===f.PE_PAGETYPE?a().createElement("div",{ref:v,className:"srp-header-flight-info-modify-dynamic"},a().createElement(p.default,d)):a().createElement(n.Fragment,null)};g.propTypes={mfData:l().string},g.defaultProps={mfData:""};var E=g;function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function S(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"init",value:function(e){var t=JSON.parse(JSON.stringify(e.dataset));(0,o.s)(e).render(a().createElement(E,t))}}],(r=null)&&h(t.prototype,r),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},41540:function(e,t,r){r.r(t),r.d(t,{localStorageKeys:function(){return n}});var n={USER_NATIONALITY:"usr_nlty",RECENT_SOURCE_CITIES:"src_list",RECENT_DESTINATION_CITIES:"dest_list",NEARBY_DESTINATION_LIST:"nrby_dest_list",NEARBY_STATION:"nrby_stat",BOOKING_CONTEXT_VALUES:"bw_cntxt_val",FLIGHT_SEARCH_PAYLOAD:"flght_srch_d",LOCATION:"location",SPECIALFARE_ID_DATA:"speci_pa_dat",GENERIC_DATA_CONTAINER_APP:"generic_data_container_app",ERROR_CODE_AEM_MAPPING:"info_errorMessageItemList"}},36730:function(e,t,r){r.r(t),r.d(t,{clearLocalStorage:function(){return i},getLocalStorage:function(){return n},getSessionStorageWithExp:function(){return s},removeLocalStorage:function(){return o},setLocalStorage:function(){return a},setSessionStorageWithExp:function(){return l}});r(69358),r(48324);var n=function(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){return console.log("catch getLocalStorage:::error",e),{}}},a=function(e,t){return localStorage.setItem(e,JSON.stringify(t)),!0},o=function(e){localStorage.removeItem(e)},i=function(){return localStorage.clear(),!0},l=function(e,t,r){var n={value:t,expiry:(new Date).getTime()+6e4*r};sessionStorage.setItem(e,JSON.stringify(n))},s=function(e){var t=sessionStorage.getItem(e);if(!t)return null;var r=JSON.parse(t);return(new Date).getTime()>r.expiry?(sessionStorage.removeItem(e),null):r.value}},71514:function(e,t,r){var n=r(10730).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},27017:function(e,t,r){var n=r(68844),a=r(90690),o=Math.floor,i=n("".charAt),l=n("".replace),s=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,d,f){var y=r+e.length,p=n.length,m=u;return void 0!==d&&(d=a(d),m=c),l(f,m,(function(a,l){var c;switch(i(l,0)){case"$":return"$";case"&":return e;case"`":return s(t,0,r);case"'":return s(t,y);case"<":c=d[s(l,1,-1)];break;default:var u=+l;if(0===u)return a;if(u>p){var f=o(u/10);return 0===f?a:f<=p?void 0===n[f-1]?i(l,1):n[f-1]+i(l,1):a}c=n[u-1]}return void 0===c?"":c}))}},57267:function(e,t,r){var n=r(61735),a=r(22615),o=r(68844),i=r(65773),l=r(3689),s=r(85027),c=r(69985),u=r(981),d=r(68700),f=r(43126),y=r(34327),p=r(74684),m=r(71514),v=r(54849),_=r(27017),g=r(66100),E=r(44201)("replace"),h=Math.max,S=Math.min,w=o([].concat),T=o([].push),b=o("".indexOf),N=o("".slice),A="$0"==="a".replace(/./,"$0"),I=!!/./[E]&&""===/./[E]("a","$0");i("replace",(function(e,t,r){var o=I?"$":"$0";return[function(e,r){var n=p(this),o=u(e)?void 0:v(e,E);return o?a(o,e,n,r):a(t,y(n),e,r)},function(e,a){var i=s(this),l=y(e);if("string"==typeof a&&-1===b(a,o)&&-1===b(a,"$<")){var u=r(t,i,l,a);if(u.done)return u.value}var p=c(a);p||(a=y(a));var v,E=i.global;E&&(v=i.unicode,i.lastIndex=0);for(var A,I=[];null!==(A=g(i,l))&&(T(I,A),E);){""===y(A[0])&&(i.lastIndex=m(l,f(i.lastIndex),v))}for(var C,L="",O=0,D=0;D<I.length;D++){for(var P,R=y((A=I[D])[0]),k=h(S(d(A.index),l.length),0),M=[],x=1;x<A.length;x++)T(M,void 0===(C=A[x])?C:String(C));var j=A.groups;if(p){var Y=w([R],M,k,l);void 0!==j&&T(Y,j),P=y(n(a,void 0,Y))}else P=_(R,l,k,M,j,a);k>=O&&(L+=N(l,O,k)+P,O=k+R.length)}return L+N(l,O)}]}),!!l((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!A||I)}}]);