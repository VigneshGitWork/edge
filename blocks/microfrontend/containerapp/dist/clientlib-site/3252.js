"use strict";(self.webpackChunkskyplus_container_app=self.webpackChunkskyplus_container_app||[]).push([[3252],{73252:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});t(69358),t(48324),t(69373),t(59903),t(59749),t(86544),t(60228),t(21057),t(79288);var r=t(28416),o=t.n(r),a=t(20745),i=(t(60429),t(84254),t(752),t(21694),t(76265),t(70560),t(89730),t(12826),t(34284),t(77049),t(64043),t(7409),t(6203),t(45697)),l=t.n(i),u=t(15833);function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,l=[],u=!0,c=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=a.call(t)).done)&&(l.push(r.value),l.length!==n);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var p=function(e){return 1===e.toString().length?"0"+e:e},f=function(e){var n,t=e.labels,a=e.showPopup,i=e.popupTimer,l=e.onCancelClick,s=e.onContinueClick,f=e.setClosePopup,d=(0,r.useRef)(null),m=c((0,r.useState)(60*+i),2),v=m[0],y=m[1],b=(0,r.useRef)(v);(0,r.useEffect)((function(){"show"===a&&(document.body.classList.add("hurryup-timer-active"),clearInterval(d.current),d.current=null,d.current=setInterval((function(){b.current<=0?(clearInterval(d.current),d.current=null,y(60*+i),f&&f(),document.dispatchEvent(new CustomEvent("hurryupSessionExpiredEvent",{bubbles:!0}))):y((function(e){return e-1}))}),1e3))}),[a]);(0,r.useEffect)((function(){"continue"===a&&(clearInterval(d.current),d.current=null,y(60*+i))}),[a]),(0,r.useEffect)((function(){b.current=v}),[v]),(0,r.useEffect)((function(){return function(){document.body.classList.remove("hurryup-timer-active")}}),[]);var h,g,_,w=(null==t||null===(n=t.completeBookingText)||void 0===n?void 0:n.indexOf("</p>"))||-1,E='<strong className="session-popup__content__timer">'+(h=v,g=parseInt(h/60),_=parseInt(h%60),(p(g)+":"+p(_)||"")+"</strong>."),S=null==t?void 0:t.completeBookingText;return w>=0&&(S=[S.slice(0,w),E,S.slice(w)].join("")),"show"===a?o().createElement(u.DialogBoxHurryupWrapper,{className:"hurryup-session-popup",variation:"center",open:!0,hideHead:!0},o().createElement("div",{className:"session-popup show"},o().createElement("div",{className:"session-popup__popup-cont"},o().createElement("div",{className:"session-popup__content"},o().createElement("div",null,o().createElement("div",{className:"session-popup__content__left"},o().createElement("div",{className:"session-popup__content__message",dangerouslySetInnerHTML:{__html:S||""}})),o().createElement("div",{className:"session-popup__content__right"},o().createElement("button",{onClick:function(e){return function(e){s(e),document.body.classList.remove("hurryup-timer-active")}(e)},className:"session-popup__content__continue"},(null==t?void 0:t.continueBookingLabel)||""),o().createElement("button",{onClick:function(e){return function(e){l(e),document.body.classList.remove("hurryup-timer-active")}(e)},className:"session-popup__content__cancel"},(null==t?void 0:t.cancelLabel)||""))))))):null};f.propTypes={popupTimer:l().number,labels:l().shape({cancelLabel:l().string,completeBookingText:l().string,continueBookingLabel:l().string})};var d=f,m=null,v=t(28361);function y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,l=[],u=!0,c=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=a.call(t)).done)&&(l.push(r.value),l.length!==n);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return b(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function h(e){var n={},t=(0,r.useRef)(null),i=((0,r.useRef)(null),y((0,r.useState)(""),2)),l=i[0],u=i[1],c=(0,r.useRef)(l);try{n=JSON.parse(e.mfData)}catch(t){n=e.mfData&&e.mfData.cancelLabel?e.mfData:{}}var s=function(){u("cancel"),window.location.href=(0,v.getPersonaBasedLogoRedirectHomePage)()},p=function(){u("continue")},f=function(){u("close")};return(0,r.useEffect)((function(){document.addEventListener("hurryupSessionExpiredEvent",(function(){u("cancelled")})),document.addEventListener("hurryupSessionEvent",(function(e){var n=(null==e?void 0:e.detail)||{};"popup"===(null==n?void 0:n.type)&&u(n.status)}))}),[]),(0,r.useEffect)((function(){t.current&&function(e,n){null!=e&&(null===m&&(m=(0,a.s)(e)),m.render(o().createElement(d,n)))}(t.current,Object.assign({},Object.assign({labels:n},e,{showPopup:l,onCancelClick:s,onContinueClick:p,setClosePopup:f}))),c.current=l}),[l]),o().createElement("div",{ref:t})}h.defaultProps={popupTimer:2,mfData:JSON.stringify({cancelLabel:"Cancel",continueBookingLabel:"Continue Booking",completeBookingText:"<p>Hurry up and complete your booking, fares might change in</p>\n"})};var g=h;function _(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function w(e){var n=function(e,n){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:String(n)}var E=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,r;return n=e,r=[{key:"init",value:function(e){var n=JSON.parse(JSON.stringify(e.dataset));(0,a.s)(e).render(o().createElement(g,n))}}],(t=null)&&_(n.prototype,t),r&&_(n,r),Object.defineProperty(n,"prototype",{writable:!1}),e}()},16252:function(e,n,t){t.r(n);t(59749),t(86544),t(60228),t(84254),t(752),t(21694),t(76265),t(70560),t(89730),t(12826),t(34284),t(77049),t(64043),t(7409),t(21057);var r=t(28416),o=t.n(r),a=t(45697),i=t.n(a),l=t(83649);function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,l=[],u=!0,c=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=a.call(t)).done)&&(l.push(r.value),l.length!==n);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var s=function(e){var n=e.label,t=e.className,a=e.children,i=e.open,c=e.variation,s=void 0===c?"top":c,p=e.disableFullHeight,f=void 0!==p&&p,d=e.onClose,m=e.hideHead,v=void 0!==m&&m,y="Dialog-wrapper "+(void 0!==t?t:""),b=u((0,r.useState)((function(){return i||!1})),2),h=b[0],g=b[1];return(0,r.useEffect)((function(){g(i),i?document.body.classList.add("scroll-is-disable-for-dialog"):document.body.classList.remove("scroll-is-disable-for-dialog")}),[i]),(0,r.useEffect)((function(){return function(){document.body.classList.remove("scroll-is-disable-for-dialog")}}),[]),h?o().createElement(l.OverlayWrapperSd,{className:"popup-modal-with-content-container-app__container popup-dialog-box "+(y||"")+" "+(s?"popup-modal-with-content-container-app__direction-"+s:"")},o().createElement("div",{className:"popup-modal-with-content-container-app__box"},o().createElement("div",{className:"popup-modal-with-content-container-app__bg-overlay"},o().createElement("div",{className:"popup-modal-with-content-container-app__content "+(f?"height-adaptable":"")},o().createElement("div",{className:"popup-modal-with-content-container-app__content-container"},!v&&o().createElement("div",{className:"popup-modal-with-content-container-app__header"},o().createElement("button",{className:"popup-modal-with-content-container-app__close-overlay-button",onClick:function(){g(!1),d(!1),document.body.classList.remove("scroll-is-disable-for-dialog")}},o().createElement("i",{className:"popup-modal-with-content-container-app__close-overlay-button__icon skp-iconmoon-icon popup-modal-with-content-container-app__close-overlay-button__icon--close"})),o().createElement("h3",{className:"popup-modal-with-content-container-app__header__title visibility-hidden"})),n&&o().createElement("div",{className:"popup-modal-with-content-container-app__label"},n),o().createElement("div",{className:"popup-modal-with-content-container-app__body"},a)))))):o().createElement(r.Fragment,null)};s.propTypes={label:i().string,className:i().string,variation:i().string,open:i().bool,hideHead:i().bool,onClose:i().func},n.default=s},15833:function(e,n,t){t.r(n),t.d(n,{DialogBoxHurryupWrapper:function(){return r.default}});var r=t(16252)},3555:function(e,n,t){t.r(n);var r=t(28416),o=t.n(r),a=t(31051),i=t.n(a),l=t(45697),u=function(e){var n=e.className,t=e.children;return i().createPortal(o().createElement("div",{className:"indigo-overlay-wrapper-container-app "+n},t),document.body)};u.propTypes={className:t.n(l)().string},n.default=u},83649:function(e,n,t){t.r(n),t.d(n,{OverlayWrapperSd:function(){return r.default}});var r=t(3555)},28361:function(e,n,t){t.r(n),t.d(n,{formattedMessage:function(){return s},getEnvObj:function(){return l},getParameterByName:function(){return u},getPersonaBasedLogoRedirectHomePage:function(){return i},removeParam:function(){return c},validator:function(){return a}});t(64043),t(22462),t(57267),t(52003),t(68518),t(13440),t(12826),t(62506),t(6203),t(36585),t(60228),t(47522),t(59749),t(86544),t(84254),t(752),t(21694),t(76265),t(70560),t(89730),t(34284),t(77049),t(7409),t(21057);function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,l=[],u=!0,c=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=a.call(t)).done)&&(l.push(r.value),l.length!==n);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var a=function(e){return function(n){return!n||(n+"").match(e)}},i=function(){var e;return(null===(e=document.querySelector(".skyplus6e-header__logo > a"))||void 0===e?void 0:e.href)||"/"},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_env_login",n={};try{return window[e]||n}catch(e){return console.log(e),n}},u=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(n);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null},c=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,t=n.split("?")[0],r=[],o=-1!==n.indexOf("?")?n.split("?")[1]:"";if(""!==o){for(var a=(r=o.split("&")).length-1;a>=0;a-=1)r[a].split("=")[0]===e&&r.splice(a,1);r.length&&(t=t+"?"+r.join("&"))}return t},s=function(e,n){return Object.entries(n).forEach((function(n){var t=r(n,2),o=t[0],a=t[1],i=new RegExp("{"+o+"}","g");e=e.replace(i,a)})),e}}}]);