"use strict";(self.webpackChunkskyplus_container_app=self.webpackChunkskyplus_container_app||[]).push([[2052,1540,3153],{1540:function(e,n,t){t.r(n),t.d(n,{localStorageKeys:function(){return o}});var o={USER_NATIONALITY:"usr_nlty",RECENT_SOURCE_CITIES:"src_list",RECENT_DESTINATION_CITIES:"dest_list",NEARBY_DESTINATION_LIST:"nrby_dest_list",NEARBY_STATION:"nrby_stat",BOOKING_CONTEXT_VALUES:"bw_cntxt_val",FLIGHT_SEARCH_PAYLOAD:"flght_srch_d",LOCATION:"location",SPECIALFARE_ID_DATA:"speci_pa_dat",GENERIC_DATA_CONTAINER_APP:"generic_data_container_app",ERROR_CODE_AEM_MAPPING:"info_errorMessageItemList"}},2052:function(e,n,t){t.r(n),t.d(n,{getFormatedDate:function(){return p},getPathFromUrl:function(){return _},gtmPushAnalytic:function(){return g},pushDataLayerFunc:function(){return v}});var o=t(8538),a=t(9313),r=t(475),l=t(9444),i=t(3153),u=t(1540);function c(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){i=!0,r=e},f:function(){try{l||null==t.return||t.return()}finally{if(i)throw r}}}}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},d.apply(this,arguments)}var _=function(e){return(null==e?void 0:e.split(/[?#]/)[0])||r.NOT_AVAILABLE},p=function(e){var n=(e=new Date(e)).getFullYear(),t=e.getMonth()+1,o=e.getDate();return o<10&&(o="0"+o),t<10&&(t="0"+t),o+"-"+t+"-"+n},v=function(e){var n,t=d({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),s=t.state,v=t.event,g=(t.ele,a.default.get(r.COOKIE_KEYS.USER,void 0,!0)||"");g=g&&JSON.parse(g);var f=a.default.get(r.COOKIE_KEYS.ROLE_DETAILS),E=f?JSON.parse(f):"",C=window,y=C.persona,m=C.pageType,T=l.personaConstant.PERSONA_CORP_ADMIN,A=l.personaConstant.PERSONA_CORP_USER,S=l.personaConstant.PERSONA_MEMBER,O=l.personaConstant.PERSONA_AGENT,N=l.pageConstant.CORP_CONNECT_ADMIN,h=l.pageConstant.CORP_CONNECT_USER,w=l.pageConstant.AGENT_USER,I=l.pageConstant.HOMEPAGE;if(m===l.pageTypeConst.PAGETYPE_HOMEPAGE)switch(y){case T:N;break;case A:h;break;case O:w;break;case S:I}else window.location.href.split("/").pop().replace(".html","").split("?")[0];var R=sessionStorage.getItem("prevUrls");R=R&&JSON.parse(R);var b,D,L=(0,i.getLocalStorage)(u.localStorageKeys.BOOKING_CONTEXT_VALUES)||{},P=(s&&null!=s&&s.seatWiseSelectedPaxInformation?s:L)||L,U=P.selectedSourceCityInfo,Y=P.selectedDestinationCityInfo,M=P.selectedJourneyType,k=P.seatWiseSelectedPaxInformation,j=P.selectedTravelDatesInfo,F=P.selectedSpecialFare,G=P.selectedCurrency,K=P.selectedMultiCityInfo,J=k||{},B=J.adultCount,x=J.childrenCount,H=J.infantCount,V=J.seniorCitizenCount,W="",X="",z=B+V+x,$=(null==L?void 0:L.selectedPromoInfo)||"",q=(null==M||null===(n=M.label)||void 0===n?void 0:n.replace(/\s/g,""))||"",Q=(0,i.getLocalStorage)(u.localStorageKeys.NEARBY_STATION),Z=(0,i.getLocalStorage)("s_f_d");(null==M?void 0:M.value)===(null===l.journeyTypeConstant||void 0===l.journeyTypeConstant?void 0:l.journeyTypeConstant.JOURNEY_TYPE_ONE_WAY)&&(D=(null==U?void 0:U.stationCode)+"-"+(null==Y?void 0:Y.stationCode),b=D.split("-").join("-"),W=p(null==j?void 0:j.startDate),X=Math.abs(Math.round(Math.round(new Date(null==j?void 0:j.startDate)-new Date)/864e5))),(null==M?void 0:M.value)===(null===l.journeyTypeConstant||void 0===l.journeyTypeConstant?void 0:l.journeyTypeConstant.JOURNEY_TYPE_ROUND_TRIP)&&(D=(null==U?void 0:U.stationCode)+"-"+(null==Y?void 0:Y.stationCode)+":"+(null==Y?void 0:Y.stationCode)+"-"+(null==U?void 0:U.stationCode),b=D.split(":").map((function(e){return e.split("-").join("-")})).join(":"),W=p(null==j?void 0:j.startDate)+":"+p(null==j?void 0:j.endDate),X=Math.abs(Math.round(Math.round(new Date(null==j?void 0:j.startDate)-new Date)/864e5))+" "+(null!=j&&j.endDate?": "+Math.abs(Math.round(Math.round(new Date(null==j?void 0:j.endDate)-new Date)/864e5)):"")),(null==M?void 0:M.value)===(null===l.journeyTypeConstant||void 0===l.journeyTypeConstant?void 0:l.journeyTypeConstant.JOURNEY_TYPE_ROUND_TRIP)&&(null==K||K.forEach((function(e){var n,t,o=(null==e||null===(n=e.from)||void 0===n?void 0:n.airportCode)+"-"+(null==e||null===(t=e.to)||void 0===t?void 0:t.airportCode),a=p(null==e?void 0:e.date),r=Math.abs(Math.round(Math.round(new Date(null==j?void 0:j.startDate)-new Date)/864e5));b+=""+(b?":"+o:o),W+=""+(W?":"+a:a),X=""+(r?":"+r:r)})));var ee=0,ne="";if(Z.length>0){var te,oe=c(Z);try{for(oe.s();!(te=oe.n()).done;){var ae=te.value,re=ae.totalFareAmount,le=void 0===re?"":re,ie=ae.fareLabel;ee+=le,ne+=(ne?":":"")+(void 0===ie?"":ie)}}catch(e){oe.e(e)}finally{oe.f()}}var ue={};switch(console.log({state:s,event:v}),v){case"headerEngagement":ue={event:"header_engagement",event_action:"click",click_text:null==s?void 0:s.headerClickText,click_nav:null==s?void 0:s.headerClickNav,screen_name:(null==s?void 0:s.pageType)||"homepage",flow_name:"booking_flow",interaction_type:"link/button click",header_interaction:1};break;case"hamburgerEngagement":ue={event:"hamburger_engagement",event_action:"click",click_text:null==s?void 0:s.hamburgerClickText,click_nav:null==s?void 0:s.hamburgerClickNav,screen_name:(null==s?void 0:s.pageType)||"homepage",flow_name:"booking_flow",interaction_type:"link/button click",hamburger_interaction:1};break;case"pageload":var ce,se;if(console.log("you are here",m),m===l.pageTypeConst.PAGETYPE_HOMEPAGE)ue={user_type:E&&null!==(ce=g)&&void 0!==ce&&ce.customerNumber?null==E?void 0:E.roleName:"anonymous",currency_code:null!=G&&G.value?null==G?void 0:G.value:(null===r.DEFAULT_CURRENCY||void 0===r.DEFAULT_CURRENCY?void 0:r.DEFAULT_CURRENCY.value)||"",page_name:"Homepage",previous_page:R?_(R[(null===(se=R)||void 0===se?void 0:se.length)-2]):r.NOT_AVAILABLE,platform:window.screen.width<768?"Mweb":"Web",page_load_time:(window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart)/1e3||0};else if(m===l.pageTypeConst.PAGETYPE_SRP){var de,_e;ue={user_type:E&&null!==(de=g)&&void 0!==de&&de.customerNumber?null==E?void 0:E.roleName:"anonymous",currency_code:null!=G&&G.value?null==G?void 0:G.value:(null===r.DEFAULT_CURRENCY||void 0===r.DEFAULT_CURRENCY?void 0:r.DEFAULT_CURRENCY.code)||"",page_name:"Flight Search Result",previous_page:R?_(R[(null===(_e=R)||void 0===_e?void 0:_e.length)-2]):r.NOT_AVAILABLE,OD:b||"",trip_type:q||"",pax_details:z+" | "+V+" SS | "+B+" ADT| "+x+" CHD | "+H+" INF ",departure_date:W,special_fare:(null==F?void 0:F.specialFareLabel)||"",flight_sector:null!=Y&&Y.isInternational||null!=U&&U.isInternational?"International":"Domestic",coupon_code:$||"",days_until_departure:X||"",closet_airport:(null==Q?void 0:Q.stationCode)||"",platform:window.screen.width<768?"Mweb":"Web",page_load_time:(window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart)/1e3||0}}else if(m===l.pageTypeConst.PAGETYPE_PASSENGER_EDIT){var pe,ve;ue={user_type:E&&null!==(pe=g)&&void 0!==pe&&pe.customerNumber?null==E?void 0:E.roleName:"anonymous",currency_code:null!=G&&G.value?null==G?void 0:G.value:(null===r.DEFAULT_CURRENCY||void 0===r.DEFAULT_CURRENCY?void 0:r.DEFAULT_CURRENCY.code)||"",page_name:"Passenger Details",previous_page:R?_(R[(null===(ve=R)||void 0===ve?void 0:ve.length)-2]):CONSTANTS.NOT_AVAILABLE,OD:b,trip_type:q,pax_details:z+" | "+V+" SS | "+B+" ADT| "+x+" CHD | "+H+" INF ",departure_date:W,special_fare:(null==F?void 0:F.specialFareLabel)||"",flight_sector:null!=Y&&Y.isInternational||null!=U&&U.isInternational?"International":"Domestic",category_fare:ne||"",flight_fare:ee||0,coupon_code:$,days_until_departure:X,platform:window.screen.width<768?"Mweb":"Web",page_load_time:(window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart)/1e3||0}}}(0,o.gtmAnalytic)({state:s,gtmProps:ue})},g=function(e){try{v(e)}catch(e){console.log("---pushDataLayer--error",e)}}},8538:function(e,n,t){t.r(n),t.d(n,{gtmAnalytic:function(){return u}});var o=t(2492),a=t.n(o),r=t(9313),l=t(475);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},i.apply(this,arguments)}var u=function(e){var n,t,o,u,c,s=i({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));if(!window.dataLayer)return console.error("GTM Analytic Error: DataLayer object not found"),!1;var d=s.state,_=s.commonInfo,p=s.gtmProps,v=r.default.get(l.COOKIE_KEYS.USER,void 0,!0)||"";v=v&&JSON.parse(v);var g=r.default.get(l.COOKIE_KEYS.ROLE_DETAILS),f=g?JSON.parse(g):"",E=null!==(n=window)&&void 0!==n&&n.skyinstance?l.PROJECT_TYPE_SKYPLUS:l.PROJECT_TYPE_BAU,C=(null==d||d.pageType,null==_||null===(t=_.page)||void 0===t||null===(o=t.pageInfo)||void 0===o||o.siteSection,window.locale,f&&null!==(u=v)&&void 0!==u&&u.customerNumber&&(null==f||f.roleCode),a()(a()(p),_));console.log({dataLayerObjGTM:C,gtmProps:p}),window.dataLayer=window.dataLayer||[],null===(c=window)||void 0===c||c.dataLayer.push(Object.assign({},C))}},3153:function(e,n,t){t.r(n),t.d(n,{clearLocalStorage:function(){return l},getLocalStorage:function(){return o},removeLocalStorage:function(){return r},setLocalStorage:function(){return a}});var o=function(e){return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):""},a=function(e,n){return localStorage.setItem(e,JSON.stringify(n)),!0},r=function(e){localStorage.removeItem(e)},l=function(){return localStorage.clear(),!0}}}]);